<!DOCTYPE html>
<html>
    <head>
        <title>Gutsy - Sound Player</title>

        <!-- Style Sheets -->
        <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="css/home.css">
        <link rel="stylesheet" type="text/css" href="css/native-interapp.css">
        <link rel="stylesheet" type="text/css" href="css/main-nav.css">
        <link rel="stylesheet" type="text/css" href="css/page-tabs.css">
        <link rel="stylesheet" type="text/css" href="css/snd-player.css">
        <link rel="stylesheet" type="text/css" href="css/footer-nav.css">

        <link rel='stylesheet prefetch' href='https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css'>
        <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css'>

        <!-- javascript -->
        <script type="text/javascript" src="js/jquery.touchSwipe.js"></script>
        <script type="text/javascript" src="js/jquery.touchSwipe.min.js"></script>
        <script type='text/javascript' src='js/fastclick.js'></script>
        <script type="text/javascript" src="http://labs.rampinteractive.co.uk/touchSwipe/jquery.touchSwipe.min.js"></script>

        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <!--
        user-scalable=no doesn't allow users to zoom
        initial-scale=1 means the zoom level when the app is loaded. 1=100%
        maximum-scale=1 means the max zoom level user can zoom
        minimum-scale-1 means the min zoom level user can zoom
        -->
        <!--meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1 
          width=device-width, height=device-height, target-densitydpi=device-dpi, viewport-fit=cover" /-->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1 
        width=device-width, height=device-height, viewport-fit=cover" />
    </head>
    <body>
    <!-- Start Header Area ->
        <header class="default-header">
            <div class="container">
                <div class="header-wrap">
                    <div class="header-top d-flex justify-content-between align-items-center">
                        <div class="logo">
                            <img id="openSBBtn" class="toggle" src="img/main-menu.png" onclick="openNav()" style=" max-width:100%;" /> <!--position: fixed; right: 10px; bottom: 10px" />-->
                            <!--<a href="#home"><img src="img/logo.png" alt="" style=" max-width:20%;"></a>->
                        </div>
                        <div>
                            <div class="main-menubar d-flex align-items-center">
                                <h2>Gutsy</h2>
                            </div>
                            <--<a href="#home"><img src="" alt="Gutsy" style=" max-width:25%;"></a>->
                        </div>
                    </div>
                </div>
            </div>
        </header>
    <-- End Header Area -->
     <!-- Sidebar ->
        <div id="sidebar" class="sidenav"><--style="color: black; position: fixed; display: inline-block; top: 0px; height: 100%; width: 200px; left: -200px; background-color: #ccc; transition: all 0.5s ease-in-out;"->
            <a id="closeSBBtn" href="javascript:void(0)" class="closebtn" onclick="closeNav()"><i class="fas fa-times"></i></a>
            <a href="index.html">Login page</a>
            <a href="register-index.html">Register</a>
            <a href="register-email.html">Register page 2</a>
            <a href="register-profile.html">Register page 3</a>
            <a href="cols-helper.html">Colonoscopy Helper</a>
        </div>
    <-- Side Bar -->

    <!-- Start Precontainer Wrapper -->
    <div class="pre-container-wrapper bg-img">
        <!--<div id="swipe-area" class="swipe-area"><br/><br/><br/>Text Area</div>-->
        <!-- Start Container Area -->
        <div class="content-container ahunned-height" style="background-color: rgba(0,0,0,0);">
            <!--div class="header">
                <h1 class="text-center">Sound Player</h1>
            </div-->
            <div class="player ahunned-height" id="ap">
                <audio></audio>
                <div class="player_body ahunned-height">
                    <div class="player_fade"></div>

                    <div class="player_content">
                    <div class="player_header">
                        <div class="container-fluid">
                        <div class="row">
                            <div class="col-xs-2">
                            <div class="back_btn">
                                <a href="home.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a>
                            </div>
                            </div>
                            <div class="col-xs-8">
                            <div class="header_name text-center" id="nowPlay">
                                <span id="npAction">PAUSED...</span>
                            </div>
                            </div>
                        </div>
                        </div>
                    </div>
                    <div class="album_wrap">
                        <div class="no_album_img"><div class="jAudio--thumb"></div></div>
                        
                    </div>
                    <div class="song_playing text-center">
                        <!-- <div class="song_name"><span id="npName">Hi Dribbble!</span></div>
                        <div class="artist_name"><span id="npArtist">Reza Shintia Dewi</span></div> -->
                    </div>
                    <div class="timeline_wrap">
                
                        <!-- <div class="timeline">
                        <div class="line_played"></div>
                        <div class="full_line"></div>
                        </div> -->
                
                        <div class='timeline progress-bar-wrapper'>
                            <div class='full_line'></div>
                            <div class="line_preload"></div>
                            <div class='line_played'>
                                <span class='progress-bar-pointer'></span>
                            </div>
                        </div>
                
                        <div class="time_of_song">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-xs-2">
                                        <span class="time_played">00:00</span>
                                    </div>
                                    <div class="col-xs-2 col-xs-offset-8">
                                        <span class="full_time">00:00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="player_btns">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-xs-2">
                                    <div class="random_btn text-center" id="random"><span class="glyphicon glyphicon-random" aria-hidden="true"></span></div>
                                </div>
                                <div class="col-xs-2">
                                    <div class="prev_btn text-center" id="btnPrev" data-action='prev'><span class="glyphicon glyphicon-backward" aria-hidden="true"></span></div>
                                </div>
                                <div class="col-xs-3">
                                    <div class="play_btn text-center" id="play" data-action='play'>
                                        <span class="glyphicon glyphicon-play" id="play_circle" aria-hidden="true"></span>
                                    </div>
                                </div>
                                <div class="col-xs-2">
                                    <div class="next_btn text-center" id="btnNext" data-action='next'><span class="glyphicon glyphicon-forward" aria-hidden="true"></span></div>
                                </div>
                                <div class="col-xs-2">
                                    <div class="repeat_btn text-center" id="repeat"><span class="glyphicon glyphicon-retweet" aria-hidden="true"></span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>

                    <div class="waves">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 275 223.7" style="enable-background:new 0 0 275 223.7;" xml:space="preserve">
                        <style type="text/css">
                        .st0{fill:url(#SVGID_1_);}
                        .st1{fill:url(#SVGID_2_);}
                        .st2{fill:url(#SVGID_3_);}
                        </style>
                        <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="137.5" y1="-19.8534" x2="137.5" y2="92.9036">
                        <stop  offset="0.104" style="stop-color:#FF8FCF;stop-opacity:0"/>
                        <stop  offset="1" style="stop-color:#FF8FCF;stop-opacity:0.7"/>
                        </linearGradient>
                        <path class="st0" d="M258.3,68c-21.8-6.7-21.5-47.8-31-48.3c-15.4-0.9-26.7,107.3-47.7,108c-16.6,0.6-26.8-67-46.7-66.3
                        c-14.7,0.5-20,37.9-31.3,37.3c-18.2-0.9-24-98.7-36-98.7C54.7,0,49.5,82,36,82.3C25.4,82.6,18,32.1,8.3,33C3.2,33.5,0.7,47.8,0,51.7
                        v172h275v-158C270.3,67.9,265,70,258.3,68z"/>
                        <linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="137.5" y1="26.8924" x2="137.5" y2="179.8649">
                        <stop  offset="0" style="stop-color:#33D4FA;stop-opacity:0"/>
                        <stop  offset="1" style="stop-color:#33D4FA;stop-opacity:0.7"/>
                        </linearGradient>
                        <path class="st1" d="M261.8,94.7c-19.3,3.2-28.2-24.1-48.5-24.3c-22.5-0.2-29.2,33.3-47.3,32.2c-24.6-1.5-32.5-64.7-52-64.2
                        C98.1,38.8,92.6,81,77.3,80.8c-16.6-0.2-25.5-50.3-36-49C29.8,33.3,29.8,95.4,17,96.5c-4.7,0.4-7-7.8-17-9.8v137h275V87.4
                        C271.7,90.5,267.5,93.7,261.8,94.7z"/>
                        <linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="137.5" y1="6.0051" x2="137.5" y2="144.9296">
                        <stop  offset="3.960396e-02" style="stop-color:#33D4FA;stop-opacity:0"/>
                        <stop  offset="1" style="stop-color:#00B2FA"/>
                        </linearGradient>
                        <path class="st2" d="M275,223.7V87.8c-6.2,4.4-15.4,9.1-26,8.9c-29.2-0.7-36.9-39.1-61.2-38.7c-22.1,0.4-29.1,32.4-46,30.3
                        c-22.8-2.8-26.7-63.5-42.2-63.7c-16.5-0.1-25.2,68.9-42,68.5c-13.7-0.3-22.4-46.7-32.5-45c-4.3,0.8-8.1,10.3-10.7,16.8
                        C12.3,70.5,11.7,74.4,8,79c-2.7,3.4-5.8,5.4-8,6.7v138H275z"/>
                        </svg>
                    </div>
                </div>
            </div>
                
            <div id="preloader">
                <div id="status">
                    <div class="spinner">
                    <div class="rect1"></div>
                    <div class="rect2"></div>
                    <div class="rect3"></div>
                    <div class="rect4"></div>
                    <div class="rect5"></div>
                    </div>
                </div>
            </div>
            
        </div>
        <!-- End Container Area -->
    </div>
    <!-- End Precontainer Wrapper -->

    <!-- Start Footer Nav Area ->
        <div class="default-footer">
            <div class="mobile-bottom-bar">
                <a href="home.html" class="footer-link">
                    <i class="fas fa-list-alt"></i>
                    <span class='footer-text'>Home</span>
                </a>
                <a href="gmap.html" class="footer-link">
                    <i class="fas fa-map-marker-alt"></i>
                    <span class='footer-text'>Restrooms</span>
                </a>
                <a href="mindfulness.html" class="footer-link">
                    <i class="fas fa-spa"></i>
                    <span class='footer-text'>Mindfulness</span>
                </a>
                <a href="nearby.html" class="footer-link">
                    <i class="fas fa-comments"></i>
                    <span class='footer-text'>Nearby</span>
                </a>
                <a href="profile-card.html" class="footer-link">
                    <i class="fas fa-user-circle"></i>
                    <span class='footer-text'>Profile</span>
                </a>
            </div>
        </div>      
    <-- End Footer Nav Area -->
    </body>
    <!-- sound player script -->
    <script src="js/snd-player.js"></script>
    <!-- end sound player script-->
    <!-- paged tabs script -->
    <script src="js/page-tabs.js"></script>
    <!-- end paged tabs script-->
    <!-- Start Sidebar script -->
    <script type="text/javascript">
        /* Set the width of the sidbar to 250px */
        function openNav() {
            /*document.getElementById("sidebar").style.width = "250px";*/
            document.getElementById("sidebar").style.left = "0px";
        }

        /* Set the width of the sidebar to 0 */
        function closeNav() {
            /*document.getElementById("sidebar").style.width = "0";*/
            document.getElementById("sidebar").style.left = "-260px";
        }
    </script>
    <!-- End Sidebar script -->
    <!-- Start swipe sidebar script -->
    <script type="text/javascript">
        $(function() {
            $("#swipe-area").swipe( {
                //Generic swipe handler for all directions
                swipe:function(event, direction, distance, duration, fingerCount, fingerData) {

                    switch(direction){
                        case "right":
                            openNav();
                            break;
                        case "left":
                            closeNav();
                            break;
                    }
                },
                //Default is 75px, set to 0 for demo so any distance triggers swipe
                threshold:75
            }); 
            
            /* Set the width of the sidbar to 250px */
            function openNav() {
                /*document.getElementById("sidebar").style.width = "250px";*/
                document.getElementById("sidebar").style.left = "0px";
            }

            /* Set the width of the sidebar to 0 */
            function closeNav() {
                /*document.getElementById("sidebar").style.width = "0";*/
                document.getElementById("sidebar").style.left = "-260px";
            }
        });
    </script>
    <!-- End swipe sidebar script -->
    <!-- Start video player script -->
    <script>
    $(document).ready(function () {

        'use strict';

        var play_pause     = $('.playButton'),
            container      = $('#videoContainer'),
            playIcon       = $('.playButton .playPause'),
            video          = $('video'),
            play           = $('.play'),
            volume         = $('.volume .icon'),
            volumeIntesity = $('.volume .intensityBar'),
            intensity      = $('.intensity'),
            progressBar    = $('.progressBar'),
            progress       = $('.progressBar .progress'),
            timer          = $('.intialTime'),
            vidDuration    = $('.fullTime'),
            expandButton   = $('.scale .icon'),
            overlayScreen  = $('.overlay'),
            timeState      = $('.time'),
            overlayButton  = $('.overlay .button'),
            update;


        $(window).resize(function () { resizeVid(); });

        resizeVid();

        updateplayer();

        play_pause.add(video).click(function () { playVid(); });

        progressBar.click(function () {skip(); });

        progressBar.mousemove(function () { timeState.text(getTimeState()); });

        volume.click(function () { toggleMute(); });

        volumeIntesity.click(function () { changeVolume(); });

        expandButton.click(function () { fullScreen(); });

        overlayButton.click(function () { playVid();});
        
        vidDuration.text(getFormatedFullTime());


        function playVid() {
            if (video.get(0).paused) {
                video.get(0).play();
                playIcon.css({
                    'background': 'url(img/media-player/video-icons/pause.png)',
                    'background-size': '100% 100%'
                });
                overlayScreen.hide();
                update = setInterval(updateplayer, 1);

            } else {
                video.get(0).pause();
                playIcon.css({
                    'background': 'url(img/media-player/video-icons/play.png)',
                    'background-size': '100% 100%'
                });
                overlayScreen.show();
                clearInterval(update);
            }
        }
        
        function updateplayer() {
            var percentage = (video[0].currentTime / video[0].duration) * 100;
            progress.css({'width': percentage + '%'});
            timer.text(getFormatedTime());
            vidDuration.text(getFormatedFullTime());

            if (video[0].ended) {
                playIcon.css({
                    'background': 'url(img/media-player/video-icons/play.png)',
                    'background-size': '100% 100%'
                });
                overlayScreen.show();
                overlayButton.css({
                    'background': 'url(img/media-player/video-icons/replay.png)',
                    'background-size': '100% 100%'
                });
            } else if (video[0].paused) {
                overlayButton.css({
                    'background': 'url(img/media-player/video-icons/play-button.png)',
                    'background-size': '100% 100%'
                });
            }
        }

        function getTimeState() {

            var mouseX = event.pageX - progressBar.offset().left,
                width  = progressBar.outerWidth();

            var currentSeconeds = Math.round((mouseX / width) * video[0].duration);
            var currentMinutes  = Math.floor(currentSeconeds/60);

            if (currentMinutes > 0) {
                currentSeconeds -= currentMinutes * 60;
            }
            if (currentSeconeds.toString().length === 1) {
                currentSeconeds = "0" + currentSeconeds;
            }
            if (currentMinutes.toString().length === 1) {
                currentMinutes = "0" + currentMinutes;
            }

            timeState.css('left', (mouseX / width) * progressBar.width() + 18 + 'px');

            return currentMinutes + ':' + currentSeconeds;

        }

        function skip() {
            var mouseX = event.pageX - progressBar.offset().left,
                width  = progressBar.outerWidth();
            video[0].currentTime = (mouseX / width) * video[0].duration;
            updateplayer();
        }

        function getFormatedFullTime() {

                var totalSeconeds = Math.round(video[0].duration);
                var totalMinutes  = Math.floor(totalSeconeds/60);
                if (totalMinutes > 0) {
                totalSeconeds -= totalMinutes * 60;
                }
                if (totalSeconeds.toString().length === 1) {
                    totalSeconeds = "0" + totalSeconeds;
                }
                if (totalMinutes.toString().length === 1) {
                    totalMinutes = "0" + totalMinutes;
                }
            return totalMinutes + ':' + totalSeconeds;
        }

            function getFormatedTime() {
                var seconeds = Math.round(video[0].currentTime);
                var minutes  = Math.floor(seconeds / 60);

                if (minutes > 0) {
                seconeds -= minutes * 60;
                }
                if (seconeds.toString().length === 1) {
                    seconeds = "0" + seconeds;
                }
                if (minutes.toString().length === 1) {
                    minutes = "0" + minutes;
                }
                return minutes + ':' + seconeds;
            }

        function toggleMute() {
            if (!video[0].muted) {
                video[0].muted = true;
                volume.css({
                    'background': 'url(img/media-player/video-icons/mute.png)',
                    'background-size': '100% 100%'
                });
                intensity.hide();
            } else {
                video[0].muted = false;
                volume.css({
                    'background': 'url(img/media-player/video-icons/volume.png)',
                    'background-size': '100% 100%'
                });
                intensity.show();
            }
        }

        function changeVolume() {
            var mouseX = event.pageX - volumeIntesity.offset().left,
                width  = volumeIntesity.outerWidth();

            video[0].volume = (mouseX / width);
            intensity.css('width', (mouseX / width) * width + 'px');
            video[0].muted = false;
            volume.css({
                'background': 'url(img/media-player/video-icons/volume.png)',
                'background-size': '100% 100%'
            });
            intensity.show();
        }

        function fullScreen() {
            if (video[0].requestFullscreen) {
                video[0].requestFullscreen();
            } else if (video[0].webkitRequestFullscreen) {
                video[0].webkitRequestFullscreen();
            } else if (video[0].mozRequestFullscreen) {
                video[0].mozRequestFullscreen();
            } else if (video[0].msRequestFullscreen) {
                video[0].msRequestFullscreen();
            } else {
                video.dblclick(function () { fullScreen(); });
            }

        }

        function resizeVid() {
            if (container.width() < 600) {
                container.addClass('small');
            } else {
                container.removeClass('small');
            }
        }

        $(window).keypress(function (e) {
            if (e.keyCode === 0 || e.keyCode === 32) {
                e.preventDefault()
                playVid();
            }
        });
        
        for (var i = 0, l = videos.length; i < l; i++) {
        var video = videos[i];
        var src = video.src || (function () {
            var sources = video.querySelectorAll("source");
            for (var j = 0, sl = sources.length; j < sl; j++) {
                var source = sources[j];
                var type = source.type;
                var isMp4 = type.indexOf("mp4") != -1;
                if (isMp4) return source.src;
            }
            return null;
        })();
        if (src) {
            var isYoutube = src && src.match(/(?:youtu|youtube)(?:\.com|\.be)\/([\w\W]+)/i);
            if (isYoutube) {
                var id = isYoutube[1].match(/watch\?v=|[\w\W]+/gi);
                id = (id.length > 1) ? id.splice(1) : id;
                id = id.toString();
                var mp4url = "http://www.youtubeinmp4.com/redirect.php?video=";
                video.src = mp4url + id;
            }
        }
    } 
    });
    </script>
    <!-- End of video player script -->
     <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAzqGpddivbH6TcqlWcbtRu9mFxFjiK3gA&callback=initMap">
    </script>
</html>