<!DOCTYPE html>
<html>
    <head>
        <title>Gutsy - Colonoscopy Helper</title>

        <!-- Style Sheets -->
        <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="css/home.css">
        <link rel="stylesheet" type="text/css" href="css/native-interapp.css">
        <link rel="stylesheet" type="text/css" href="css/main-nav.css">
        <link rel="stylesheet" type="text/css" href="css/page-tabs.css">
        <link rel="stylesheet" type="text/css" href="css/vid-player.css">
        <link rel="stylesheet" type="text/css" href="css/footer-nav.css">

        <!-- javascript -->
        <script type="text/javascript" src="js/jquery.touchSwipe.js"></script>
        <script type="text/javascript" src="js/jquery.touchSwipe.min.js"></script>
        <script type="text/javascript" src="http://labs.rampinteractive.co.uk/touchSwipe/jquery.touchSwipe.min.js"></script>

        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <!--
        user-scalable=no doesn't allow users to zoom
        initial-scale=1 means the zoom level when the app is loaded. 1=100%
        maximum-scale=1 means the max zoom level user can zoom
        minimum-scale-1 means the min zoom level user can zoom
        -->
        <!--meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1 
          width=device-width, height=device-height, target-densitydpi=device-dpi, viewport-fit=cover" /-->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1 
        width=device-width, height=device-height, viewport-fit=cover" />
    </head>
    <body>
    <!-- Start Header Area -->
        <header class="default-header">
            <div class="container">
                <div class="header-wrap">
                    <div class="header-top d-flex justify-content-between align-items-center">
                        <div class="logo">
                            <img id="openSBBtn" class="toggle" src="img/main-menu.png" onclick="openNav()" style=" max-width:100%;" /> <!--position: fixed; right: 10px; bottom: 10px" />-->
                            <!--<a href="#home"><img src="img/logo.png" alt="" style=" max-width:20%;"></a>-->
                        </div>
                        <div>
                            <div class="main-menubar d-flex align-items-center">
                                <h2>Gutsy</h2>
                            </div>
                            <!--<a href="#home"><img src="" alt="Gutsy" style=" max-width:25%;"></a>-->
                        </div>
                    </div>
                </div>
            </div>
        </header>
    <!-- End Header Area -->
     <!-- Sidebar -->
        <div id="sidebar" class="sidenav"><!--style="color: black; position: fixed; display: inline-block; top: 0px; height: 100%; width: 200px; left: -200px; background-color: #ccc; transition: all 0.5s ease-in-out;"-->
            <a id="closeSBBtn" href="javascript:void(0)" class="closebtn" onclick="closeNav()"><i class="fas fa-times"></i></a>
            <a href="index.html">Login page</a>
            <a href="register-email.html">Register</a>
         <!--   <a href="register-index.html">Register page 2</a>
            <a href="register-profile.html">Register page 3</a> -->
            <a href="cols-helper.html">Colonoscopy Helper</a>
            <a href="sound-player.html">Sound Player</a>
            <a href="event-cal.html">Events Calendar</a>
			<a href="index.html">Log out</a>
        </div>
    <!-- Side Bar -->

    <!-- Start Precontainer Wrapper -->
    <div class="pre-container-wrapper">
        <!--<div id="swipe-area" class="swipe-area"><br/><br/><br/>Text Area</div>-->
        <!-- Start Container Area -->
        <div class="content-container">
            <div class="header">
                <h1 class="text-center">Colonoscopy Helper</h1>
            </div>
            
            <div id="videoContainer">
                <div class="overlay bg-navy">
                    <div class="button agileinfo"></div>
                </div>
                <div id="video">
                    <video src="vid/1.mp4"></video> 
                    <!--p>Your device does not support this Video element.</p-->
                </div>
                <div id="controls" class="bg-torq">
                    <div class="playButton bg-torq">
                        <div class="playPause"></div>
                    </div>
                    <div class="ProgressContainer">
                        <div class="timer intialTime"> 00:00 </div>
                        <div class="progressBar bg-navy">
                            <div class="progress"></div>
                        </div>
                        <div class="time"> 00:00 </div>
                        <div class="timer fullTime"> 00:00 </div>
                    </div>
                    <div class="volume">
                        <div class="icon"></div>
                        <div class="intensityBar bg-navy">
                            <div class="intensity"></div>
                        </div>
                    </div>
                    <div class="scale bg-torq">
                        <div class="icon"></div>
                    </div>
                </div>
            </div>

            <div style="margin: 10px;">
                <h2>Lorem ipsum dolor sit amet</h2>
                <p>
                    Lorem ipsum dolor sit amet, eu eum adhuc vitae, nusquam lobortis sit ad. 
                    Eu eam fastidii delicata definiebas, usu in assum paulo.<br/>
                    Te usu affert nostrud albucius. Nusquam consulatu has ad, mei an tollit delectus.<br/><br/>
                </p>
                <p>
                    Etiam sed metus eget justo suscipit eleifend. Cras sed velit at arcu tempor eleifend nec tempus ex. 
                    Nam eu dapibus purus, at consectetur quam. Duis eget gravida turpis, vitae posuere justo.<br/>
                    Proin sagittis lectus congue leo iaculis, id cursus eros mollis. Sed placerat ut eros ac dignissim. 
                    Nunc non sodales arcu. Praesent maximus enim eu dui condimentum convallis. 
                    Cras arcu augue, suscipit cursus pretium vel, semper sit amet tortor. Praesent dapibus dignissim aliquam. 
                    Curabitur nec eros elementum, viverra nibh quis, venenatis lectus.<br/>
                    Mauris efficitur, nisl nec condimentum tempor, metus est rhoncus orci, eu vestibulum tortor arcu nec turpis. 
                    Duis et dolor vel magna suscipit dictum. Vestibulum et ante sit amet erat viverra viverra. 
                    Sed mattis et sem et congue.<br/><br/>
                </p>
                <p>
                    <i>"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit..."</i>
                </p>
                <p><br/></p>
            </div>
        </div>
        <!-- End Container Area -->
    </div>
    <!-- End Precontainer Wrapper -->

    <!-- Start Footer Nav Area -->
        <div class="default-footer">
            <div class="mobile-bottom-bar">
                <a href="home.html" class="footer-link">
                    <i class="fas fa-list-alt"></i>
                    <span class='footer-text'>Home</span>
                </a>
                <a href="gmap.html" class="footer-link">
                    <i class="fas fa-map-marker-alt"></i>
                    <span class='footer-text'>Restrooms</span>
                </a>
                <a href="mindfulness.html" class="footer-link">
                    <i class="fas fa-spa"></i>
                    <span class='footer-text'>Mindfulness</span>
                </a>
                <a href="nearby.html" class="footer-link">
                    <i class="fas fa-comments"></i>
                    <span class='footer-text'>Nearby</span>
                </a>
                <a href="profile-card.html" class="footer-link">
                    <i class="fas fa-user-circle"></i>
                    <span class='footer-text'>Profile</span>
                </a>
            </div>
        </div>      
    <!-- End Footer Nav Area -->
    </body>
    <!-- fast click script -->
    <script type='text/javascript' src='js/fastclick.js'></script>

    <script>
        if ('addEventListener' in document) {
            document.addEventListener('DOMContentLoaded', function() {
                FastClick.attach(document.body);
            }, false);
        }
    </script>
    <!-- end fast click script -->
    <!-- paged tabs script -->
    <script src="js/page-tabs.js"></script>
    <!-- end paged tabs script-->
    <!-- Start Sidebar script -->
    <script type="text/javascript">
        /* Set the width of the sidbar to 250px */
        function openNav() {
            /*document.getElementById("sidebar").style.width = "250px";*/
            document.getElementById("sidebar").style.left = "0px";
        }

        /* Set the width of the sidebar to 0 */
        function closeNav() {
            /*document.getElementById("sidebar").style.width = "0";*/
            document.getElementById("sidebar").style.left = "-260px";
        }
    </script>
    <!-- End Sidebar script -->
    <!-- Start swipe sidebar script -->
    <script type="text/javascript">
        $(function() {
            $("#swipe-area").swipe( {
                //Generic swipe handler for all directions
                swipe:function(event, direction, distance, duration, fingerCount, fingerData) {

                    switch(direction){
                        case "right":
                            openNav();
                            break;
                        case "left":
                            closeNav();
                            break;
                    }
                },
                //Default is 75px, set to 0 for demo so any distance triggers swipe
                threshold:75
            }); 
            
            /* Set the width of the sidbar to 250px */
            function openNav() {
                /*document.getElementById("sidebar").style.width = "250px";*/
                document.getElementById("sidebar").style.left = "0px";
            }

            /* Set the width of the sidebar to 0 */
            function closeNav() {
                /*document.getElementById("sidebar").style.width = "0";*/
                document.getElementById("sidebar").style.left = "-260px";
            }
        });
    </script>
    <!-- End swipe sidebar script -->
    <!-- Start video player script -->
    <script>
    $(document).ready(function () {

        'use strict';

        var play_pause     = $('.playButton'),
            container      = $('#videoContainer'),
            playIcon       = $('.playButton .playPause'),
            video          = $('video'),
            play           = $('.play'),
            volume         = $('.volume .icon'),
            volumeIntesity = $('.volume .intensityBar'),
            intensity      = $('.intensity'),
            progressBar    = $('.progressBar'),
            progress       = $('.progressBar .progress'),
            timer          = $('.intialTime'),
            vidDuration    = $('.fullTime'),
            expandButton   = $('.scale .icon'),
            overlayScreen  = $('.overlay'),
            timeState      = $('.time'),
            overlayButton  = $('.overlay .button'),
            update;


        $(window).resize(function () { resizeVid(); });

        resizeVid();

        updateplayer();

        play_pause.add(video).click(function () { playVid(); });

        progressBar.click(function () {skip(); });

        progressBar.mousemove(function () { timeState.text(getTimeState()); });

        volume.click(function () { toggleMute(); });

        volumeIntesity.click(function () { changeVolume(); });

        expandButton.click(function () { fullScreen(); });

        overlayButton.click(function () { playVid();});
        
        vidDuration.text(getFormatedFullTime());


        function playVid() {
            if (video.get(0).paused) {
                video.get(0).play();
                playIcon.css({
                    'background': 'url(img/media-player/video-icons/pause.png)',
                    'background-size': '100% 100%'
                });
                overlayScreen.hide();
                update = setInterval(updateplayer, 1);

            } else {
                video.get(0).pause();
                playIcon.css({
                    'background': 'url(img/media-player/video-icons/play.png)',
                    'background-size': '100% 100%'
                });
                overlayScreen.show();
                clearInterval(update);
            }
        }
        
        function updateplayer() {
            var percentage = (video[0].currentTime / video[0].duration) * 100;
            progress.css({'width': percentage + '%'});
            timer.text(getFormatedTime());
            vidDuration.text(getFormatedFullTime());

            if (video[0].ended) {
                playIcon.css({
                    'background': 'url(img/media-player/video-icons/play.png)',
                    'background-size': '100% 100%'
                });
                overlayScreen.show();
                overlayButton.css({
                    'background': 'url(img/media-player/video-icons/replay.png)',
                    'background-size': '100% 100%'
                });
            } else if (video[0].paused) {
                overlayButton.css({
                    'background': 'url(img/media-player/video-icons/play-button.png)',
                    'background-size': '100% 100%'
                });
            }
        }

        function getTimeState() {

            var mouseX = event.pageX - progressBar.offset().left,
                width  = progressBar.outerWidth();

            var currentSeconeds = Math.round((mouseX / width) * video[0].duration);
            var currentMinutes  = Math.floor(currentSeconeds/60);

            if (currentMinutes > 0) {
                currentSeconeds -= currentMinutes * 60;
            }
            if (currentSeconeds.toString().length === 1) {
                currentSeconeds = "0" + currentSeconeds;
            }
            if (currentMinutes.toString().length === 1) {
                currentMinutes = "0" + currentMinutes;
            }

            timeState.css('left', (mouseX / width) * progressBar.width() + 18 + 'px');

            return currentMinutes + ':' + currentSeconeds;

        }

        function skip() {
            var mouseX = event.pageX - progressBar.offset().left,
                width  = progressBar.outerWidth();
            video[0].currentTime = (mouseX / width) * video[0].duration;
            updateplayer();
        }

        function getFormatedFullTime() {

                var totalSeconeds = Math.round(video[0].duration);
                var totalMinutes  = Math.floor(totalSeconeds/60);
                if (totalMinutes > 0) {
                totalSeconeds -= totalMinutes * 60;
                }
                if (totalSeconeds.toString().length === 1) {
                    totalSeconeds = "0" + totalSeconeds;
                }
                if (totalMinutes.toString().length === 1) {
                    totalMinutes = "0" + totalMinutes;
                }
            return totalMinutes + ':' + totalSeconeds;
        }

            function getFormatedTime() {
                var seconeds = Math.round(video[0].currentTime);
                var minutes  = Math.floor(seconeds / 60);

                if (minutes > 0) {
                seconeds -= minutes * 60;
                }
                if (seconeds.toString().length === 1) {
                    seconeds = "0" + seconeds;
                }
                if (minutes.toString().length === 1) {
                    minutes = "0" + minutes;
                }
                return minutes + ':' + seconeds;
            }

        function toggleMute() {
            if (!video[0].muted) {
                video[0].muted = true;
                volume.css({
                    'background': 'url(img/media-player/video-icons/mute.png)',
                    'background-size': '100% 100%'
                });
                intensity.hide();
            } else {
                video[0].muted = false;
                volume.css({
                    'background': 'url(img/media-player/video-icons/volume.png)',
                    'background-size': '100% 100%'
                });
                intensity.show();
            }
        }

        function changeVolume() {
            var mouseX = event.pageX - volumeIntesity.offset().left,
                width  = volumeIntesity.outerWidth();

            video[0].volume = (mouseX / width);
            intensity.css('width', (mouseX / width) * width + 'px');
            video[0].muted = false;
            volume.css({
                'background': 'url(img/media-player/video-icons/volume.png)',
                'background-size': '100% 100%'
            });
            intensity.show();
        }

        function fullScreen() {
            if (video[0].requestFullscreen) {
                video[0].requestFullscreen();
            } else if (video[0].webkitRequestFullscreen) {
                video[0].webkitRequestFullscreen();
            } else if (video[0].mozRequestFullscreen) {
                video[0].mozRequestFullscreen();
            } else if (video[0].msRequestFullscreen) {
                video[0].msRequestFullscreen();
            } else {
                video.dblclick(function () { fullScreen(); });
            }

        }

        function resizeVid() {
            if (container.width() < 600) {
                container.addClass('small');
            } else {
                container.removeClass('small');
            }
        }

        $(window).keypress(function (e) {
            if (e.keyCode === 0 || e.keyCode === 32) {
                e.preventDefault()
                playVid();
            }
        });
        
        for (var i = 0, l = videos.length; i < l; i++) {
        var video = videos[i];
        var src = video.src || (function () {
            var sources = video.querySelectorAll("source");
            for (var j = 0, sl = sources.length; j < sl; j++) {
                var source = sources[j];
                var type = source.type;
                var isMp4 = type.indexOf("mp4") != -1;
                if (isMp4) return source.src;
            }
            return null;
        })();
        if (src) {
            var isYoutube = src && src.match(/(?:youtu|youtube)(?:\.com|\.be)\/([\w\W]+)/i);
            if (isYoutube) {
                var id = isYoutube[1].match(/watch\?v=|[\w\W]+/gi);
                id = (id.length > 1) ? id.splice(1) : id;
                id = id.toString();
                var mp4url = "http://www.youtubeinmp4.com/redirect.php?video=";
                video.src = mp4url + id;
            }
        }
    } 
    });
    </script>
    <!-- End of video player script -->
     <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAzqGpddivbH6TcqlWcbtRu9mFxFjiK3gA&callback=initMap">
    </script>
</html>